% Préambule
% ---
\documentclass[12pt]{article}

% Paquets utilisés
% ---
\usepackage{amsmath} % Advanced math typesetting
\usepackage[utf8]{inputenc} % Unicode support (Umlauts etc.)w
\usepackage[french]{babel} % Change hyphenation rules
\usepackage[T1]{fontenc} % for farenheit
\usepackage{textcomp}
\usepackage{gensymb}
\usepackage{hyperref}
\usepackage{minted}
\usepackage{graphicx} % Add pictures to your document
\usepackage{siunitx}
%\usepackage{listings} % Source code formatting and highlighting

\graphicspath{{../resources/images/}}

\begin{document}

%%
% Page de couverture sur-mesure
%%

\begin{titlepage}
	\centering
	
	{\scshape\large TPE Mathématiques et SVT\par}
	\vspace{0.2cm}	
	{ \Large Thème : l'aléatoire, l'insolite, le prévisible\par }
	Axe de recherche : comprendre le présent, penser le futur\par
	\vspace{1.5cm}

	{\scshape\LARGE La modélisation informatique du climat \par}
	\vspace{1cm}
	{\huge\bfseries Comment peut-on modéliser le rayonnement solaire, et traduire cette modélisation mathématique en programme informatique ?\par}

	\vspace{1cm}
	{\Large\itshape Yohaï Eliel Berreby\par}
	
	\vfill
	
	
	{\Large\bfseries Établissement : CNED\par}
	\vspace{0.2cm}
	{\Large \bfseries Série : S }

	\vfill

	{\large \today\par}
\end{titlepage}


\clearpage
\tableofcontents{}
\clearpage

%%
% Début du document
%%

\section{Introduction} 

\subsection{Des enjeux actuels}

Qui n'a jamais eu besoin d'allumer sa télévision ou de consulter son téléphone pour savoir quel temps il ferait avant de prendre un avion, de partir en vacances ou tout simplement d'aller se promener en forêt ?
Les prévisions météorologiques, toutes communes et faciles d'accès qu'elles soient, n'en présentent cependant pas moins des enjeux importants.
Ces enjeux sont \textbf{économiques}, avec par exemple la météo agricole, un outil précieux pour des millions d'agriculteurs à travers le monde, mais aussi \textbf{humains}, car prévoir une crue ou une tempête, ne serait-ce que quelques heures à l'avance, peut permettre de sauver des vies en évacuant les populations en danger.

Ces prévisions sont aujourd'hui littéralement à \emph{portée de main} avec l'avènement des applications mobiles, et pourtant elles reposent sur des constructions d'une grande complexité à la croisée des mathématiques, de la physique et de l'informatique : \textbf{les modèles}.

\subsection{Rapport au thème}

La modélisation climatique s'inscrit naturellement dans le thème choisi, à savoir \emph{"l'aléatoire, l'insolite, le prévisible"}, car, outre l'exploration du passé qu'elle permet -- un point sur lequel on reviendra plus loin --, l'un de ses principaux intérêts est la réalisation de \textbf{prévisions météorologiques}.

Elle est également aujourd'hui indissociable de l'informatique, discipline qui passionne votre serviteur, d'où le choix du sujet \emph{"la modélisation informatique du climat"}.
En effet, le volume de données que doit traiter tout modèle climatique à partir d'un certain degré de complexité est bien trop important pour qu'un être humain, même muni d'une calculatrice, puisse réaliser les calculs nécessaires : on a donc recours à des ordinateurs pour cela, car ils sont capables de réaliser ces calculs à des vitesses dépassant de très loin les capacités humaines.

\subsection{Démarche expérimentale}

Le rôle primordial des modèles dans un domaine aussi important que la météorologie m'a conduit à vouloir \textbf{explorer leur fonctionnement}.
Pour ce faire, j'ai choisi de créer un modèle simple, et de le traduire en un programme informatique, avec comme variable l'intensité du rayonnement solaire en un point de la Terre.

Cet exemple, d'une grande simplicité en comparaison avec les modèles qu'utilisent des organismes comme Météo France, présente cependant de multiples avantages :

\begin{itemize}
  \item sa \textbf{simplicité} le rend réalisable par un élève seul dans le cadre d'un TPE
  \item les calculs qu'il implique restent cependant suffisamment complexes pour \textbf{justifier la création d'un programme informatique} les réalisant automatiquement
  \item le rayonnement solaire est \textbf{relativement simple à modéliser}, car plus prévisible que le vent ou les intempéries
\end{itemize}

J'ai donc abouti, à l'aide de ressources trouvées sur Internet, à une série de calculs permettant de calculer \textbf{l'éclairement énergétique solaire} d'un point en fonction de sa position sur Terre, de la date et de l'heure.
J'ai ensuite intégré ces calculs dans un programme, et procédé à la validation expérimentale de celui-ci en le faisant fonctionner et en comparant les résultats obtenus à ceux attendus.

Le lecteur ne sera probablement pas sans remarquer l'utilisation abondante de sources anglophones dans le présent TPE. L'anglais est en effet aujourd'hui communément considéré comme la \textit{lingua franca} \cite{english_lingua_franca} des sciences, et l'abondance des ressources écrites dans cette langue par rapport aux ressources francophones me poussa à mener mes recherches en anglais. 


\clearpage
\section{Les modèles en climatologie} % FIXME: awful title

\subsection{Qu'est-ce qu'un modèle ?}

On parle de modèles mathématiques, scientifiques, climatiques, ou encore informatiques -- mais qu'est-ce au juste qu'un modèle ?
Ces notions, bien que diverses, se rejoignent en un point : il s'agit de représentations de phénomènes, suffisamment simples pour qu'on puisse les appréhender et les manipuler, mais qui restent les plus proches possibles de la réalité, sans quoi elles seraient inutiles.
En ce sens, l'on peut dire que tout modèle est une \textbf{approximation du réel}.

Le modèle \emph{mathématique} est une construction formelle qui bien souvent sert de base au modèle informatique.
Les lois qui régissent le premier servent de base au second, qui, soumis à des contraintes physiques (vitesse de calcul, de transfert des données, capacité de stockage d'un volume de données grandissant), en est la traduction imparfaite, empirique, gouverné par l'expérience, approximative.
Il dépend du matériel avec lequel on l'utilise, et évolue au fur et à mesure que celui-ci devient plus rapide et capable de traiter de grands volumes de données.

\subsection{Construction de notre modèle}

Le modèle informatique que nous cherchons à construire va ainsi s'appuyer sur un modèle mathématique, que nous construirons progressivement.
Pour ce faire, je me suis principalement appuyé sur une collection de ressources du site PVEducation.org appelée \emph{Properties of Sunlight} \cite{properties_of_sunlight}.
À l'aide de ce site, j'ai déterminé comment l'on pouvait calculer l'éclairement énergétique solaire (\textit{solar irradiance} en anglais) à partir d'autres paramètres physiques, pouvant eux-mêmes être calculés à partir d'autres paramètres, et ainsi de suite jusqu'à établir une relation entre date, heure, position sur la Terre d'un point, et éclairement énergétique solaire de ce point.
Le tout forme un modèle à petite échelle, dont voici le fonctionnement.

\subsubsection{Masse d'air et atténuation du rayonnement solaire}
L'éclairement énergétique solaire d'un point à la surface de la Terre dépend fondamentalement de deux facteurs : l'intensité du rayonnement solaire parvenant \emph{au sommet de l'atmosphère}, et l'atténuation de celui-ci par l'atmosphère. 
Le rayonnement solaire au sommet de l'atmosphère, si l'on se place perpendiculairement au Soleil, est d'environ \SI{1.35}{\kilo\watt\per\square\meter}.
Comme il varie peu (+/- \SI{10}{\watt\per\square\meter}), nous nous intéresserons plus particulièrement au degré d'atténuation qu'il subit.
Dans l'espace, les rayons du Soleil peuvent parcourir de grandes distances en perdant peu d'énergie, mais sitôt qu'ils pénètrent l'atmosphère, ils en perdent beaucoup par diffusion et absorption.
Leur degré d'atténuation est fonction de la distance qu'ils parcourent dans l'atmosphère, c'est pourquoi on utilise pour le calculer un paramètre appelé \emph{masse d'air} (ou \emph{masse atmosphérique} -- \textit{air mass} en anglais) \cite{air_mass_wiki} qui représente le rapport de la longueur du plus court chemin possible au travers de l'atmosphère sur celle du chemin emprunté par la lumière à un instant donné (figure ~\ref{fig:air-mass}). Plus ce coefficient est élevé, plus le rayonnement solaire doit parcourir une distance importante, et plus il est atténué par l'atmosphère.

\begin{figure}[!ht]
	\centerline{\includegraphics[width=12cm]{air-mass.png}}
	\caption{La masse d'air à un instant et en un point donné (\textit{air mass} en anglais) est définie par X (chemin le plus court que peuvent prendre les rayons du Soleil) divisé par Y (chemin qu'ils prennent à cet instant et en ce point).}
	\label{fig:air-mass}
\end{figure}

La distance parcourue par les rayons du Soleil ($Y$ sur la figure ~\ref{fig:air-mass}) est égale à $\cos \theta$.
La masse d'air est donc égale à :

\[\frac{1 }{\cos \theta}\]


\subsubsection{Angle zénithal, d'élévation, de déclinaison}
$\theta$, dont on a fait usage plus haut, est \emph{l'angle zénithal}. L'angle zénithal et l'angle d'élévation ($\alpha$) sont complémentaires, on a donc :
\[90\degree - \alpha\]

L'angle d'élévation $\alpha$ est plus complexe à calculer. Il est fonction de la latitude du point étudié (il convient de rappeler qu'il s'agit de calculer l'éclairement énergétique d'un point à la surface de la Terre), de \emph{l'angle de déclinaison} et de \emph{l'angle horaire}.



\begin{figure}[!ht]
	\centerline{\includegraphics[width=7cm]{elevation-and-zenith-angle.png}}
	\caption{Angle zénithal et angle d'élévation}
	\label{fig:air-mass}
\end{figure}

\subsubsection{Angle horaire et temps solaire}
% FIXMEEE

Il dépend de la latitude, de l'angle de déclinaison et de l'angle horaire.
      
L'angle de déclinaison est ``l'angle entre la droite joignant les centres du Soleil et de la Terre et le plan de l'équateur terrestre'' \cite{mouvement_terre}. Il dépend de la position de la Terre autour du Soleil, et donc du jour de l'année (de 1 à 365).
L'angle horaire correspond à l'arc que décrit le Soleil au cours de la journée, et dépend donc de l'heure. Cependant, la Terre ne se contente pas de tourner sur elle-même, elle tourne en même temps autour du Soleil, ce qui provoque un décalage entre l'heure locale (i.e. celle qu'indique un ordinateur ou une horloge) et l'heure solaire (définie par la position apparente du Soleil dans le ciel). On doit donc utiliser l'heure solaire.
Pour cela, on calcule la différence entre l'heure solaire et l'heure locale. Cette différence est appelée facteur de correction du temps, et est fonction de la longitude du point étudié, de la longitude du méridien local à ce point et de l'équation du temps, un paramètre (« Remarque sur le mot « équation » : en astronomie ancienne, le terme « équation » désignait une correction ajoutée algébriquement à une valeur moyenne pour obtenir une valeur vraie. C'est une telle acception qui a survécu dans l'expression ``équation du temps'' \cite{equation_temps_wiki} qui permet de corriger l'irrégularité du temps solaire, celui-ci n'évoluant pas de manière monotone. % FIXME


\subsubsection{Combinaison des paramètres}
La combinaison de tous ces paramètres permet de calculer une approximation de l'éclairement énergétique solaire en un point à partir de la position de ce point, de la date, de l'heure locale et du fuseau horaire seulement. Le fuseau horaire doit être indiqué explicitement, car on ne peut le calculer simplement à partir de la latitude, les limites des fuseaux horaires tendant à suivre les frontières des pays au lieu d'être rectilignes, comme le montre la figure ~\ref{fig:timezones}.+

\begin{figure}[!ht]
  \centering
      \makebox[\textwidth]{\includegraphics[width=\paperwidth]{timezones.png}}
  \caption{Les fuseaux horaires, dont les limites sont représentées par des lignes rouges, suivent souvent les contours des pays.}
  \label{fig:timezones}
\end{figure}

Cette approximation ne tient pas compte des nuages ou d'autres phénomènes climatiques pouvant altérer le parcours des rayons du Soleil, mais reste assez proche de la réalité par temps clair.


\clearpage
\section{Application : écriture de notre programme}

\subsection{Bases du fonctionnement d'un programme}

Pour être exécuté, un programme doit être traduit en une série d'instructions appelée \emph{code machine}. Ce code n'étant pas conçu pour être lu ou écrit par des êtres humains, on écrit en pratique les programmes dans des \emph{langages de programmation}, conçus pour être compréhensibles à la fois par le programmeur et par l'ordinateur.

Le texte formant un programme, écrit dans un langage de programmation, est appelé \emph{code source} du programme. L'ordinateur traduit le code source en code machine à l'aide un programme appelé \emph{compilateur}. Il est alors libre d'exécuter le code machine.

\subsection{Choix du langage}
Il existe de nombreux langages de programmation, chacun ayant ses propres atouts et points faibles. Pour ce TPE, j'ai choisi d'écrire mon programme en \textbf{Rust} (\url{https://www.rust-lang.org/}). Il s'agit d'un langage innovant, extrêmement performant, et prévenant de nombreux bugs grâce à un système qui analyse automatiquement le code source afin de vérifier son exactitude avant la traduction en langage machine. Ce sont ces qualités, ainsi que ma familiarité avec le langage, que j'utilise depuis janvier 2015, qui ont motivé mon choix.

[à étoffer]

\subsection{Code source du programme final}
Le code source de mon programme est trop long pour le copier dans son intégralité, mais il est disponible publiquement sur GitHub, un site de développement collaboratif, à l'adresse suivante : \url{https://github.com/yberreby/rust-climate}. Vous pouvez en télécharger une copie sur votre disque dur en cliquant sur "Download ZIP" dans l'interface GitHub, ou sur le lien suivant : \url{https://github.com/yberreby/rust-climate/archive/master.zip}.

Il est également possible de le lire directement depuis votre navigateur, en cliquant sur les noms de fichiers. Le code est dans \texttt{src}.

En voici un extrait :

\inputminted[linenos]{rust}{temperature.rs}

[à étoffer]
[le code est tronqué car certaines lignes sont trop longues

\clearpage
\section{Validation expérimentale : essai du programme}

[à faire]

\clearpage
\section{Conclusion}

[à faire]


\begin{thebibliography}{99}

\bibitem{english_lingua_franca}
	Wikipédia,
	\emph{List of lingua francas}\\
	\url{https://en.wikipedia.org/wiki/List_of_lingua_francas#English}

\bibitem{how_do_climate_models_work} 
	Kaitlin Alexander,
	\emph{How do climate models work?}\\
	\url{http://climatesight.org/2012/01/20/how-do-climate-models-work/}

\bibitem{properties_of_sunlight} 
	PVEducation.org,
	\emph{Properties of Sunlight}\\
	\url{http://www.pveducation.org/pvcdrom/properties-of-sunlight/}

\bibitem{pos_air_mass}
	PVEducation.org,
	\emph{Air Mass}\\
	\url{http://www.pveducation.org/pvcdrom/properties-of-sunlight/air-mass}

\bibitem{pos_solar_time}
	PVEducation.org,
	\emph{Solar Time}\\
	\url{http://www.pveducation.org/pvcdrom/properties-of-sunlight/solar-time}

\bibitem{pos_declination_angle}
	PVEducation.org,
	\emph{Declination Angle}\\
	\url{http://www.pveducation.org/pvcdrom/properties-of-sunlight/declination-angle}

\bibitem{pos_calculation_of_solar_insolation}
	PVEducation.org,
	\emph{Calculation of Solar Insolation}\\
	\url{http://www.pveducation.org/pvcdrom/properties-of-sunlight/calculation-of-solar-insolation}

\bibitem{cahier_globe} 
	GLOBE-SWISS,
	\emph{Climat, météo et atmosphère}\\
	\url{http://www.globe-swiss.ch/files/Downloads/779/Download/Cahier_Atmosphere.pdf}

\bibitem{qu_est_ce_qu_un_modele}
	Jean-Louis Le Moigne,
	\emph{Qu'est-ce qu'un modèle ?}\\
	\url{http://archive.mcxapc.org/docs/ateliers/lemoign2.pdf}

\bibitem{mouvement_terre}
	Université du Maine,
	\emph{Mouvement de la Terre}\\
	\url{http://ressources.univ-lemans.fr/AccesLibre/UM/Pedago/physique/02/divers/mouveter.html}

\bibitem{air_mass_wiki}
	Wikipédia,
	\emph{Air Mass (solar energy)}\\
	\url{https://en.wikipedia.org/wiki/Air_mass_(solar_energy)}

\bibitem{equation_temps_wiki}
	Wikipédia,
	\emph{Équation du temps}\\
	\url{https://fr.wikipedia.org/wiki/%C3%89quation_du_temps}
	
\bibitem{irradiation_solaire_wiki}
	Wikipédia,
	\emph{Irradiation solaire}\\
	\url{https://fr.wikipedia.org/wiki/Irradiation_solaire}

\end{thebibliography}


\end{document}
